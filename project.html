<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Project</title>

    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <script type="text/javascript" src="cordova.js"></script> //only needed for phonegap
    <script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script> 
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script></script>
    <script type="text/javascript">
    AFRAME.registerComponent('cursor-listener', {
      init: function () {
          this.el.addEventListener('click', function (evt) {
            document.querySelector('a-scene').sceneEl.querySelector("#wearlensesAnimation").setAttribute('visible', "true");
            document.querySelector('a-scene').sceneEl.querySelector("#wearlensesAnimation").setAttribute('animation-mixer','loop','once');
            document.querySelector('a-scene').sceneEl.querySelector("#Transformer").setAttribute('autoplay', "true");
            document.querySelector('a-scene').sceneEl.querySelector("#boxId").setAttribute('visible', "false");
            document.querySelector('a-scene').sceneEl.querySelector("#packText").setAttribute('visible', "false");
            document.querySelector('a-scene').sceneEl.querySelector("#wearlensesStatic").setAttribute('visible', "false");
        });
        }
      });
    </script>

</head>
<body>
    <a-scene cursor-listener id="scene1" embedded arjs=’sourceType: webcam;’>
      <a-assets timeout=30000>
        <a-asset-item id="wearlenses_static" src="assets/static/wearlenses_static.gltf"></a-asset-item>
        <a-asset-item id="wearlenses_animation" src="assets/animation/wearlenses_with_animation.gltf"></a-asset-item>
        <audio id="Transformer" src="url(assets/Transformer.mp3)"></audio>
      </a-assets>
            
    <a-box id="boxId" visible="true" color="green" position="-2 -5 -35" height="2" width="3"></a-box>
            
    <a-entity id="packText" visible="true" position="4.5 -5 -35" scale="15 15 15" text="value: PACK;color:black"></a-entity>

    <a-entity id="wearlensesStatic" position="-.7 1 -3" visible="true" gltf-model="#wearlenses_static"
      scale="3 3 3" #wearlensesAnimation.visible="true"></a-entity>

    <a-light type="ambient" color="white"></a-light>
            
    <a-light type="point" intensity="2" position="-.7 1 -3"></a-light>
    
    <a-entity play-animation2 id="wearlensesAnimation" gltf-model="#wearlenses_animation" visible="false"
              position="-.5 1.5 -5" 
              rotation="0 0 0" 
              scale="5 5 5"
              animation-mixer="loop: once; clampWhenFinished: true;"
              shadow="cast: true; receive: false"> 
      <a-sound src="#Transformer"></a-sound>
    </a-entity>      
    </a-scene>
</body>
</html>
